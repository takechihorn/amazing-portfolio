(window.webpackJsonp=window.webpackJsonp||[]).push([[10,2],{374:function(t,e,r){"use strict";r.r(e);var n={props:["error"]},o=r(55),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide",type:"animation"}},[t.error?r("div",{staticClass:"notification is-danger"},[t._v("\n    "+t._s(t.error.message)+"\n  ")]):t._e()])}),[],!1,null,null,null);e.default=component.exports},392:function(t,e,r){"use strict";r.r(e);r(17);var n={components:{ErrorBar:r(374).default},data:function(){return{name:"",group:null}},computed:{groups:function(){return this.$store.getters["admin/groups"]},error:function(){return this.$store.getters.error},busy:function(){return this.$store.getters.busy},jobDone:function(){return this.$store.getters.jobDone}},watch:{jobDone:function(t){t&&(this.$store.commit("setJobDone",!1),this.jobsDone())}},created:function(){0===this.$store.getters["admin/groups"].length&&this.$store.dispatch("admin/getGroups")},methods:{onsubmit:function(){var t=this;this.$validator.validateAll().then((function(e){e&&(t.group?t.$store.dispatch("admin/updateGroup",{name:t.name,group:t.group}):t.$store.dispatch("admin/createGroup",{name:t.name}))}))},selectGroup:function(t){this.group=t,this.name=t.name},cancelUpdate:function(){this.group=null,this.jobsDone()},removeGroup:function(t){var e=this;this.$swal({title:"Delete the group?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){r&&e.$store.dispatch("admin/removeGroup",{group:t})}))},jobsDone:function(){var t=this;this.group=null,this.name="",this.$nextTick((function(){t.removeErrors()})),this.removeErrors()},removeErrors:function(){this.$validator.reset(),this.$store.commit("clearError")}}},o=r(55),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",{staticClass:"section no-top-pad"},[r("h5",{staticClass:"title is-5"},[t._v("User groups")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-one-third"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.onsubmit.apply(null,arguments)}}},[r("div",{staticClass:"field"},[t.group?r("label",{staticClass:"label"},[t._v("Update user group")]):r("label",{staticClass:"label"},[t._v("New user group")]),t._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"}],staticClass:"input",class:{"is-danger":t.errors.has("name")},attrs:{name:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help is-danger"},[t._v("\n                "+t._s(t.errors.first("name"))+"\n              ")])])]),t._v(" "),r("ErrorBar",{attrs:{error:t.error}}),t._v(" "),r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("button",{staticClass:"button is-warning",class:{"is-loading":t.busy},attrs:{type:"submit",disabled:t.busy}},[t._v("\n                "+t._s(t.group?"Update":"Create")+"\n              ")]),t._v(" "),t.group?r("button",{staticClass:"button",class:{"is-loading":t.busy},staticStyle:{"margin-left":"10px"},attrs:{type:"button",disabled:t.busy},on:{click:function(e){return t.cancelUpdate()}}},[t._v("\n                Cancel\n              ")]):t._e()])])],1)]),t._v(" "),r("div",{staticClass:"column"},[r("table",{staticClass:"table is-striped is-fullwidth"},[t._m(0),t._v(" "),r("tbody",t._l(t.groups,(function(e,n){return r("tr",{key:e.key},[r("th",[t._v(t._s(++n))]),t._v(" "),r("td",[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.selectGroup(e)}}},[t._v(t._s(e.name))])]),t._v(" "),r("td",[r("a",{on:{click:function(r){return r.preventDefault(),t.removeGroup(e)}}},[t._m(1,!0)])])])})),0)])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("#")]),t._v(" "),r("th",[t._v("User group")]),t._v(" "),r("th",[t._v("Â ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon has-text-danger"},[e("i",{staticClass:"fa fa-lg fa-times-circle"})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{ErrorBar:r(374).default})}}]);