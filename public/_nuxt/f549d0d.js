(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2],{374:function(e,t,r){"use strict";r.r(t);var n={props:["error"]},o=r(55),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"slide",type:"animation"}},[e.error?r("div",{staticClass:"notification is-danger"},[e._v("\n    "+e._s(e.error.message)+"\n  ")]):e._e()])}),[],!1,null,null,null);t.default=component.exports},375:function(e,t,r){"use strict";t.a={methods:{removeErrors:function(){this.$validator.reset(),this.$store.commit("clearError")}},computed:{error:function(){return this.$store.getters.error},busy:function(){return this.$store.getters.busy},jobDone:function(){return this.$store.getters.jobDone}},watch:{jobDone:function(e){e&&(this.$store.commit("setJobDone",!1),this.jobsDone())}}}},387:function(e,t,r){"use strict";r.r(t);var n=r(374),o=r(375),l={components:{ErrorBar:n.default},mixins:[o.a],middleware:"verify-admin",data:function(){return{email:"",password:"",fullname:""}},computed:{admins:function(){return this.$store.getters["admin/admins"]}},mounted:function(){0===this.$store.getters["admin/admins"].length&&this.$store.dispatch("admin/getAdmins")},methods:{createAdmin:function(){var e=this;this.$validator.validateAll().then((function(t){if(t){var r={email:e.email,password:e.password,fullname:e.fullname};e.$store.dispatch("admin/createAdmin",r)}}))},removeAdmin:function(e){var t=this;this.$swal({title:"Delete the administrator?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){r&&t.$store.dispatch("admin/removeAdmin",{admin:e})}))},jobsDone:function(){var e=this;this.fullname="",this.email="",this.password="",this.$nextTick((function(){e.removeErrors()}))}}},m=r(55),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"section no-top-pad"},[r("h5",{staticClass:"title is-5"},[e._v("Administrators")]),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-one-third"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.createAdmin.apply(null,arguments)}}},[r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.fullname,expression:"fullname"},{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"}],staticClass:"input",class:{"is-danger":e.errors.has("fullname")},attrs:{type:"text",name:"fullname"},domProps:{value:e.fullname},on:{input:function(t){t.target.composing||(e.fullname=t.target.value)}}}),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("fullname"),expression:"errors.has('fullname')"}],staticClass:"help is-danger"},[e._v("\n                "+e._s(e.errors.first("fullname"))+"\n              ")])])]),e._v(" "),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("Email")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input",class:{"is-danger":e.errors.has("email")},attrs:{type:"email",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"help is-danger"},[e._v("\n                "+e._s(e.errors.first("email"))+"\n              ")])])]),e._v(" "),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("Password")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],staticClass:"input",class:{"is-danger":e.errors.has("password")},attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[e._v("\n                "+e._s(e.errors.first("password"))+"\n              ")])])]),e._v(" "),r("error-bar",{attrs:{error:e.error}}),e._v(" "),r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("button",{staticClass:"button is-warning",class:{"is-loading":e.busy},attrs:{type:"submit",disabled:e.busy}},[e._v("\n                Create\n              ")])])])],1)]),e._v(" "),r("div",{staticClass:"column"},[r("table",{staticClass:"table is-striped is-fullwidth"},[e._m(0),e._v(" "),r("tbody",e._l(e.admins,(function(t,n){return r("tr",{key:t.id},[r("th",[e._v(e._s(++n))]),e._v(" "),r("td",[e._v(e._s(t.name))]),e._v(" "),r("td",[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.removeAdmin(t)}}},[e._m(1,!0)])])])})),0)])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("#")]),e._v(" "),r("th",[e._v("Administrators")]),e._v(" "),r("th",[e._v("Â ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon has-text-danger"},[t("i",{staticClass:"fa fa-lg fa-times-circle"})])}],!1,null,null,null);t.default=component.exports;installComponents(component,{ErrorBar:r(374).default})}}]);